jobs:
  data:
    source: local
    path: /opt/data/item_sale_records_2017_2019.csv
    train:
      year_from: 2017
    test:
      year: 2019
      week: 50

  model:
    name: light_gbm_regression
    params:
      task: "train"
      boosting: "gbdt"
      objective: "regression"
      num_leaves: 3
      learning_rate: 0.05
      feature_fraction: 0.5
      max_depth: -1
      num_iterations: 1000000
      num_threads: 0
      seed: 1234
    early_stopping_rounds: 200
    eval_metrics: mse
    verbose_eval: 1000

  search:
    run: false
    optuna:
      cv: 5
      n_trials: 20
      n_jobs: 5
      light_gbm:
        parameters:
          - name: num_leaves
            suggest_type: int
            value_range:
              - 2
              - 10
          - name: max_depth
            suggest_type: int
            value_range:
              - -1
              - 10
          - name: learning_rate
            suggest_type: uniform
            value_range:
              - 0.01
              - 0.1
          - name: feature_fraction
            suggest_type: uniform
            value_range:
              - 0.1
              - 1.0

  train:
    run: true

  prediction:
    run: false
