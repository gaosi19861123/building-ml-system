jobs:
  data:
    source: local
    path: /opt/data/item_sale_records_2017_2019.csv
    train:
      year_from: 2017
    test:
      year: 2019
      week: 50
  model:
    name: light_gbm_regression
    params:
      task: train
      boosting: gbdt
      objective: regression
      num_leaves: 3
      learning_rate: 0.01
      feature_fraction: 0.8
      max_depth: -1
      num_boost_round: 1000000
      num_threads: 1
      seed: 1234
    early_stopping_rounds: 200
    verbose_eval: 1000
  search:
    run: true
    optuna:
      cv: 5
      n_trials: 20
      n_jobs: 1
      lightgbm:
        parameters:
        - name: num_leaves
          suggest_type: int
          value_range:
          - 2
          - 100
        - name: max_depth
          suggest_type: int
          value_range:
          - 2
          - 100
        - name: learning_rage
          suggest_type: uniform
          value_range:
          - 0.0001
          - 0.01
        - name: feature_fraction
          suggest_type: uniform
          value_range:
          - 0.001
          - 0.9
  train:
    run: true
  prediction:
    run: false
